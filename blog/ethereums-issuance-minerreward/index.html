<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.cc5491f88aca8cd815468b654859fb71bcbece02e7414cdca0957612c03f3f3015203de03edf6003b6088ad2e0bda584a197b832a19dfa35d9febb0afeed261f.css integrity="sha512-zFSR+IrKjNgVRotlSFn7cby+zgLnQUzcoJV2EsA/PzAVID3gPt9gA7YIitLgvaWEoZe4MqGd+jXZ/rsK/u0mHw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Ethereum’s Issuance: minerReward - TrueBlocks</title><meta name=description content="Ethereum as it was meant to be: local-first, P2P, and accurate queries to all the data you’ll ever need."><link rel=canonical href=/blog/ethereums-issuance-minerreward/><meta name=twitter:card content="https://trueblocks.io/trueblocks.png"><meta name=twitter:image content="https://trueblocks.io/trueblocks.png"><meta name=twitter:title content="Ethereum’s Issuance: minerReward"><meta name=twitter:description content="Recently, there was a dustup on Crypto Twitter (started here, carries on here) about Ethereum’s money supply. The claim was made that Ethereum’s money supply was not easily available, nor was it widely agreed upon.
News flash: Both of these claims are right.
At one point, our project, TrueBlocks, was mentioned, so I thought I’d write an article (which has grown into two articles and a code base) exploring the issue."><meta name=twitter:site content="@TrueBlocks"><meta name=twitter:creator content="@TrueBlocks"><meta property="og:title" content="Ethereum’s Issuance: minerReward"><meta property="og:description" content="Recently, there was a dustup on Crypto Twitter (started here, carries on here) about Ethereum’s money supply. The claim was made that Ethereum’s money supply was not easily available, nor was it widely agreed upon.
News flash: Both of these claims are right.
At one point, our project, TrueBlocks, was mentioned, so I thought I’d write an article (which has grown into two articles and a code base) exploring the issue."><meta property="og:type" content="article"><meta property="og:url" content="/blog/ethereums-issuance-minerreward/"><meta property="og:image" content="https://trueblocks.io/trueblocks.png"><meta property="article:published_time" content="2020-08-15T11:44:23+00:00"><meta property="article:modified_time" content="2023-01-08T17:12:52-05:00"><meta property="og:site_name" content="TrueBlocks"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"\/blog\/ethereums-issuance-minerreward\/"},"headline":"Ethereum’s Issuance: minerReward","image":[],"datePublished":"2020-08-15T11:44:23CET","dateModified":"2023-01-08T17:12:52CET","author":{"@type":"Organization","name":"TrueBlocks"},"publisher":{"@type":"Organization","name":"TrueBlocks","logo":{"@type":"ImageObject","url":"\/logo-doks.png"}},"description":""}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"\/"},{"@type":"ListItem","position":2,"name":"Blogethereums Issuance Minerreward","item":"\/blogethereums-issuance-minerreward\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class="blog single"><div class="header-bar fixed-top"></div><script>(localStorage.getItem("theme")==="dark"||localStorage.getItem("theme")===null)&&document.body.classList.add("dark")</script><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=/>TrueBlocks</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/trueblocks><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://discord.com/invite/kAFcZH2x7K><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="simple icon-discord"><path d="M20.317 4.3698a19.7913 19.7913.0 00-4.8851-1.5152.0741.0741.0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868.0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077.0 00-.0785-.037 19.7363 19.7363.0 00-4.8852 1.515.0699.0699.0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824.0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777.0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076.0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077.0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743.0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614.0a.0739.0739.0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077.0 01-.0066.1276 12.2986 12.2986.0 01-1.873.8914.0766.0766.0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076.0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077.0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061.0 00-.0312-.0286zM8.02 15.3312c-1.1825.0-2.1569-1.0857-2.1569-2.419.0-1.3332.9555-2.4189 2.157-2.4189 1.2108.0 2.1757 1.0952 2.1568 2.419.0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748.0c-1.1825.0-2.1569-1.0857-2.1569-2.419.0-1.3332.9554-2.4189 2.1569-2.4189 1.2108.0 2.1757 1.0952 2.1568 2.419.0 1.3332-.946 2.4189-2.1568 2.4189z"/></svg><span class="ms-2 visually-hidden">Discord</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/trueblocks/trueblocks-core><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li><li class=nav-item><a class=nav-link href=/api>API<span class="ms-2 visually-hidden">API</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=/docs/>Introduction</a></li><li class=nav-item><a class=nav-link href=/chifra/introduction>Chifra</a></li><li class=nav-item><a class=nav-link href=/data-model/intro>Data Model</a></li><li class=nav-item><a class=nav-link href=/explorer/introduction>Explorer</a></li><li class=nav-item><a class=nav-link href=/sdks/introduction>SDKs</a></li><li class="nav-item active"><a class=nav-link href=/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=/papers/>Papers</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-4M60J4ZGSQ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4M60J4ZGSQ",{anonymize_ip:!1})}</script></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Categories</h3><ul class=list-unstyled><li><a href=/tags/ethereum>ethereum</a> (28)</li><li><a href=/tags/trueblocks>trueblocks</a> (20)</li><li><a href=/tags/community>community</a> (6)</li><li><a href=/tags/tutorials>tutorials</a> (5)</li><li><a href=/tags/faq>faq</a> (1)</li><li><a href=/tags/ethereum/>ethereum</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Ethereum’s Issuance: minerReward</h1><div class=date><small><em>Published on: </em>Aug 15, 2020
<em>Last edited: </em>Jan 8, 2023</small><br></p></div><p class=lead>First in a series about issuance</p><p>Recently, there was a dustup on Crypto Twitter (started <a href=https://twitter.com/pierre_rochard/status/1291522796410089474>here</a>, carries on <a href=https://twitter.com/hashtag/SupplyGate>here</a>) about Ethereum’s money supply. The claim was made that Ethereum’s money supply was not easily available, nor was it widely agreed upon.</p><p>News flash: Both of these claims are right.</p><p>At one point, our project, TrueBlocks, was mentioned, so I thought I’d write an article (which has grown into <a href=https://medium.com/@tjayrush/ethereums-issuance-unclereward-72de71b0f9f6>two articles</a> and <a href=https://github.com/TrueBlocks/trueblocks-core/tree/develop/src/other/issuance>a code base</a>) exploring the issue.</p><p>While the work we present here doesn’t necessarily make the numbers easier to get (fix the node!), the numbers are accurate to 18-decimal places and verified to the on-chain account balances at every block. We used TrueBlocks to do that.</p><h4 id=going-back-tobasics>Going Back to Basics<a href=#going-back-tobasics class=anchor aria-hidden=true>#</a></h4><p>To really dig in, we are going to go back to basics. In Ethereum, that means reading the Yellow Paper. We’ll look closely at Section 11.3, as that section describes the issuance of new ether, or as they call it, the Reward Application.</p><p>I will present each sentence from Section 11.3 verbatim, and then show a copy of the equations associated with that sentence, then translate those equations into English. Finally we translate the equations into purposefully simplified <code>C++</code> code using <strong>TrueBlocks</strong>. <strong>TrueBlocks</strong> helps us extract and analyze the data as part of <a href=https://github.com/TrueBlocks/trueblocks-core/tree/develop/src/other/issuance>the code base</a>.</p><h4 id=section-113>Section 11.3<a href=#section-113 class=anchor aria-hidden=true>#</a></h4><p>We start with the introductory sentence of Section 11.3:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-001.png alt></p><p>Since there are no equations, we will skip right to the English language re-write to get started:</p><blockquote><p>At every block, the balances of at least one, but possibly more, accounts are <strong>issued</strong> new coins.</p></blockquote><p>Before going too far, let’s define the word _“<em>ommer.</em>” “_Ommer” is a gender-neutral word for the sibling of a parent. Your aunts and uncles are ommers. The words “ommer” and “uncle” are used interchangeably in this article. Every block has a list of zero or more ommers. There are at most two ommers in a given block (Section 11.1).</p><p>Increases to two different account balances are mentioned in the above sentence.</p><p>We will call the first increase — to the account balance of the <strong>beneficiary of the block reward</strong> — the <code>blockReward</code>. Every block has a <code>blockReward</code>. <code>blockRewards</code> are discussed in this article.</p><p>We will call the second increase — to the account balance of the <strong>beneficiaries of the ommer rewards</strong> — the <code>uncleReward</code>. Not all blocks have uncles; therefore, not all blocks have an <code>uncleReward</code>. <code>uncleRewards</code> are discussed in <a href=https://medium.com/@tjayrush/ethereums-issuance-unclereward-72de71b0f9f6>the next article</a>.</p><h4 id=the-crux-of-section113>The Crux of Section 11.3<a href=#the-crux-of-section113 class=anchor aria-hidden=true>#</a></h4><p>The next sentence in Section 11.3 of the Yellow Paper is the crux of the calculation. This sentence describes Ethereum’s <strong>issuance</strong> fully:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-002.png alt></p><p>While this sentence is complete, it is terribly un-grammatical, making it difficult to understand.</p><p>It has two main clauses, identified with blue brackets, and, worse, the first clause contains two thoughts smashed together (and separated incorrectly by a semicolon). These two thoughts should be combined, as I’ve done with the red correction.</p><p>Luckily, the two parts of this sentence correspond to the two types of balance increases mentioned earlier. The first clause is referring to the reward given to the <strong>beneficiary of the block reward</strong> (<code>blockReward</code>). The second clause refers to the <strong>beneficiary of the ommer rewards</strong> (<code>uncleReward</code>).</p><h4 id=blockreward>blockReward<a href=#blockreward class=anchor aria-hidden=true>#</a></h4><p>Looking at the first half of the second sentence of Section 11.3 (as corrected)…</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-003.png alt></p><p>…you should be able to see that this is referring only to the <strong>beneficiary account</strong> (that is, the winning miner). It says that the winning miner’s account balance is raised (i.e. coins are <strong><em>issued</em></strong> to**<em>)</em>** by an amount designated by<code>R-block</code> (which we call <code>baseReward</code> below) plus <code>1/32</code> of that amount for each uncle in the block.</p><p>The Yellow Paper summarizes the production of this amount with two equations: Equation 161 and Equation 162. Equation 161 says:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-004.png alt></p><p>where…</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-005.png alt></p><p>In words, Equation 161 says, “Omega is a function taking the current block and the state prior to the current block and transitioning to a new state which remains unchanged except for…what appears in Equation 162”:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-006.png alt></p><p>where…</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-007.png alt></p><p>Equation 162 is saying the “the account balance of the beneficiary (miner) increases by the <code>baseReward</code> plus 1/32 of the <code>baseReward</code> for each uncle.”</p><p><code>baseReward</code> is defined in equation 166:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-008.png alt></p><p>which is slightly wrong as it ignores the change in the block reward at the Byzantium hard fork (from 5 ether to 3) and then again at the Constantinople hard fork (from 3 ether to 2). This omission is accounted for in the code.</p><p>All of the above mumbo-jumbo can be written in three lines of code:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-009.png alt></p><p>Note that if there are no uncles, <code>blockReward</code> is identical to <code>baseReward</code>. If there are uncles, <code>blockReward</code> is increased by the <code>baseReward</code> multiplied by <code>1/32</code> for each uncle. Some people, including us, call this additional increase the <code>nephewReward</code>. (Appropriately, a block is sometimes called a <code>nephew</code> if it has an uncle.)</p><p>As crazy as it may seem, this is the entire calculation for <code>blockReward</code>. We will look at the <code>uncleReward</code> in <a href=https://medium.com/@tjayrush/ethereums-issuance-unclereward-72de71b0f9f6>the next article</a>.</p><p>The two functions, <code>getUncleCount</code> and <code>getBlockReward</code>, (shown green in the code above) are part of <strong>TrueBlocks</strong> and remain to be explained.</p><p><code>getUncleCount</code> is a straight-forward passthrough to Ethereum’s RPC call <code>eth_getUncleCount</code>. The interested reader is referred to the <a href=https://openethereum.github.io/wiki/JSONRPC-eth-module#eth_getunclecountbyblocknumber>documentation</a> for that function.</p><p>The <code>getBlockReward</code> function is equally simple, as it is a constant function of <code>blockNumber</code>. Here’s the code for <code>getBlockReward</code>, which returns the result in wei:</p><p><img src=/blog/img/040-Ethereums-Issuance-minerReward-010.png alt></p><p>On review, this function would have better been called <code>getBaseReward</code>.</p><p>Previously, I mentioned that <code>blockReward</code> was only one part of Ethereum’s <strong>issuance</strong> calculation. The other part, called <code>uncleReward</code>, is described in <a href=https://medium.com/@tjayrush/ethereums-issuance-unclereward-72de71b0f9f6>the next article</a>.</p><h4 id=support-ourwork>Support Our Work<a href=#support-ourwork class=anchor aria-hidden=true>#</a></h4><p>I wish to thank Meriam Zandi for her help in this article.</p><p>Help us continue our work. Visit our GitCoin grant page here: <a href=https://gitcoin.co/grants/184/trueblocks>https://gitcoin.co/grants/184/trueblocks</a>, and donate today.</p><p>Or, if you’d rather not expose yourself to scrutiny, and you’d still like to donate, send ETH to 0xf503017d7baf7fbc0fff7492b751025c6a78179b.</p><p class=edit-page><a href=https://github.com/TrueBlocks/trueblocks-docs/blob/master/content/blog/2020/040-Ethereums-Issuance-minerReward.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=/blog/ethereums-issuance-unclereward/><div class="card my-1"><div class="card-body py-2">&larr; Ethereum’s Issuance: uncleReward</div></div></a><a class=ms-auto href=/blog/building-your-own-ethereum-archive-node/><div class="card my-1"><div class="card-body py-2">Building Your Own Ethereum Archive Node &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://github.com/TrueBlocks/trueblocks-docs>Improve docs</a></li><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/js/highlight.min.39c8701213290bff3f62f8bd4a85d5a89866c0e28d00395817ab598ba2b45df2cb63eb9afb36d0b00e8f6665d8baf67a2feb26a04839b46dfb9b18ed5bcebd44.js integrity="sha512-OchwEhMpC/8/Yvi9SoXVqJhmwOKNADlYF6tZi6K0XfLLY+ua+zbQsA6PZmXYuvZ6L+smoEg5tG37mxjtW869RA==" crossorigin=anonymous defer></script>
<script src=/main.min.faf5ce2fa16540fed2aa52654dcbc4d344816d8672fc99d99304faa64ddbac891a7d0e3e47633606fcdcd9fa6294254d76b3e9bfe4b3b55ef761780ee819898a.js integrity="sha512-+vXOL6FlQP7SqlJlTcvE00SBbYZy/JnZkwT6pk3brIkafQ4+R2M2Bvzc2fpilCVNdrPpv+SztV73YXgO6BmJig==" crossorigin=anonymous defer></script>
<script src=/index.min.ecf5abb7b18239119e9954b1777e59b327a280d0e505d51d9fca8fa883add071e58656a001826cbba414ac14219532f9b3ff8d4a499471f921c4e9709df02bf5.js integrity="sha512-7PWrt7GCORGemVSxd35ZsyeigNDlBdUdn8qPqIOt0HHlhlagAYJsu6QUrBQhlTL5s/+NSkmUcfkhxOlwnfAr9Q==" crossorigin=anonymous defer></script></body></html>